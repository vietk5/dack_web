/* ================== EPIC ROG THEME — COMPACT ================== */
:root{
  --acc:#f2c572;          /* gold */
  --acc-2:#29b4d0;        /* teal/aqua */
  --danger:#ff4d6d;       /* sale red */
  --text-1:#e8edf6;
  --text-2:#b9c2cf;
  --glass-1:rgba(12,14,18,.64);
  --brd:rgba(255,255,255,.10);
  --bgX:50%;
  --bgY:40%;
}

html,body{height:100%;}
html[data-bs-theme="dark"] body{
  color:var(--text-1);
  background:transparent;
  font-family:"Barlow",system-ui,-apple-system,Segoe UI,Roboto,Arial;
  position:relative; overflow-x:hidden;
}

/* Background + overlay */
body::before{
  content:""; position:fixed; inset:0; z-index:-2;
  background:url("../img/bg_epic.jpg") var(--bgX) var(--bgY)/cover no-repeat fixed;
  filter:saturate(1.05) contrast(1.05) brightness(.92);
  transition:background-position .25s ease;
}
body::after{
  content:""; position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(1200px 900px at 55% 28%, rgba(255,219,150,.15), transparent 60%),
    linear-gradient(180deg, rgba(8,8,12,.55), rgba(8,8,12,.75));
  backdrop-filter:blur(2px); -webkit-backdrop-filter:blur(2px);
}

/* Glass blocks */
.card,.glass{
  background:linear-gradient(180deg,var(--glass-1),rgba(12,14,18,.48));
  border:1px solid var(--brd); border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.45);
  backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
}
.navbar{
  background:rgba(12,14,18,.65);
  border-bottom:1px solid var(--brd);
  backdrop-filter:blur(10px);
}
.navbar .nav-link{ color:var(--text-2); }
.navbar .nav-link:hover{ color:var(--text-1); }

/* Buttons */
.btn-rog{
  color:#0b0f14; font-weight:800; border:0;
  background:linear-gradient(135deg,var(--acc),var(--acc-2));
  box-shadow:0 8px 18px rgba(41,180,208,.25);
}
.btn-rog:hover{ filter:brightness(1.07); transform:translateY(-1px); }
.btn:focus{ box-shadow:0 0 0 .2rem rgba(41,180,208,.35); }

/* ===== Product card (cao đều, đầu/cuối thẳng hàng) ===== */
.equal-cards > [class*="col"]{ display:flex; }
.equal-cards > [class*="col"] > .card{ flex:1 1 auto; }

.product-card{ display:flex; flex-direction:column; border-radius:14px; }
.product-card .card-body{ display:flex; flex-direction:column; gap:.35rem; }

/* Ảnh đồng nhất tỉ lệ 4:3 */
.product-img-wrap{
  width:100%; aspect-ratio:4/3;
  background:#0e131a; border-radius:12px; overflow:hidden;
}
.product-card .product-img{
  width:100%; height:100% !important; object-fit:cover; display:block;
  transition:transform .3s ease;
}
.product-card:hover .product-img{ transform:scale(1.04); }

/* Meta + tên + giá có chiều cao ổn định */
.product-meta{
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; min-height:1.2rem;
}
.product-title{
  line-height:1.25; min-height:2.5rem;               /* ~2 dòng */
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden;
}
.price-block{ display:flex; flex-direction:column; gap:.1rem; min-height:2.6rem; }
.price-block .old-price{ opacity:.8; }
.price-block .current-price{ font-weight:800; color:var(--danger); }

/* Rating badge */
.rating-badge{
  font:700 .8rem/1 system-ui;
  color:#111;
  background:linear-gradient(135deg,#ffd54f,#fff59d);
  border:1px solid rgba(255,255,255,.18);
  box-shadow:0 0 .5rem rgba(0,0,0,.35);
}

/* Brands strip */
.brand-pill{
  background:rgba(255,255,255,.06);
  border:1px solid var(--brd) !important;
  color:var(--text-1); text-decoration:none !important;
}
.brand-pill.active{
  background:linear-gradient(135deg,var(--acc),var(--acc-2));
  color:#111;
}

/* Promo tabs (glass) */
#promo-tabs .promo-tabs-header{
  background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
  border:1px solid var(--brd); border-bottom:none;
  border-radius:16px 16px 0 0; padding:6px; gap:6px;
}
#promo-tabs .promo-tab{
  border:1px solid var(--brd); border-radius:12px;
  background:rgba(255,255,255,.03);
  color:var(--text-1); padding:10px 14px;
}
#promo-tabs .promo-tab .title{ font-weight:800; font-size:.98rem; line-height:1.1; }
#promo-tabs .promo-tab small{ color:var(--text-2); }
#promo-tabs .promo-tab:hover{
  border-color:rgba(41,180,208,.45);
  box-shadow:0 0 .45rem rgba(41,180,208,.25);
}
#promo-tabs .promo-tab.active{
  background:linear-gradient(135deg,var(--acc),var(--acc-2)); color:#111;
  border-color:transparent; box-shadow:0 0 .65rem rgba(41,180,208,.35);
}
#promo-tabs .promo-tabs-header a{
  color:var(--text-1); text-decoration:none; opacity:.9;
  border:1px solid var(--brd); background:rgba(255,255,255,.02);
  padding:6px 10px; border-radius:10px;
}
#promo-tabs .promo-tabs-header a:hover{
  border-color:rgba(41,180,208,.45);
  box-shadow:0 0 .45rem rgba(41,180,208,.25);
}
#promo-tabs .promo-body{
  background:rgba(255,255,255,.03);
  border:1px solid var(--brd); border-top:none; border-radius:0 0 16px 16px;
  padding:16px;
}

/* Footer */
footer{ background:rgba(12,14,18,.6); border-top:1px solid var(--brd); }

/* Smooth transitions */
*{ transition:background-color .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease, transform .2s ease; }
@media (prefers-reduced-motion:reduce){
  *{ transition:none !important; animation:none !important; }
}
/* ===== HOT DEALS RAIL ===== */
#hot-deals .dr-viewport{ overflow:hidden; }
#hot-deals .dr-track{
  display:flex; gap:16px;
  overflow-x:auto; scroll-behavior:smooth;
  padding:8px 12px 14px;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
}
#hot-deals .dr-track::-webkit-scrollbar{ height:8px; }
#hot-deals .dr-track::-webkit-scrollbar-thumb{
  background:rgba(255,255,255,.15); border-radius:4px;
}

/* Mỗi item cố định bề ngang -> card cao đều */
#hot-deals .deal-card{ flex:0 0 260px; scroll-snap-align:start; }

/* Nút điều hướng đồ hoạ, giữa 2 cạnh */
#hot-deals .dr-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  width:42px; height:42px; border-radius:50%;
  display:grid; place-items:center;
  background:rgba(12,14,18,.78);
  border:1px solid rgba(255,255,255,.1);
  color:#fff; z-index:3; cursor:pointer;
  box-shadow:0 10px 30px rgba(0,0,0,.45);
  transition:transform .2s ease, opacity .2s ease, background-color .2s ease;
}
#hot-deals .dr-nav:hover{ transform:translateY(-50%) scale(1.04); }
#hot-deals .dr-nav:disabled{ opacity:.35; cursor:not-allowed; }
#hot-deals .dr-nav.prev{ left:6px; }
#hot-deals .dr-nav.next{ right:6px; }
#hot-deals .dr-nav svg{ width:22px; height:22px }

/* ===== BẮT BUỘC: buộc ảnh & card cao đều, không lệch ===== */
/* Nếu partial/product_card.jsp dùng .position-relative ở đầu (đúng như bạn gửi) */
.product-card > .position-relative{
  width:100%;
  aspect-ratio:4/3;           /* mọi ảnh cùng tỷ lệ */
  background:#0e131a;
  border-radius:12px;
  overflow:hidden;
}
.product-card > .position-relative .product-img{
  width:100%; height:100% !important; object-fit:cover; display:block;
  transition:transform .3s ease;
}
.product-card:hover .product-img{ transform:scale(1.04); }

/* Thân card: các khối có chiều cao tối thiểu ổn định */
.product-card{ display:flex; flex-direction:column; border-radius:14px; }
.product-card .card-body{ display:flex; flex-direction:column; gap:.35rem; }

.product-meta{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; min-height:1.2rem; }
.product-title{
  line-height:1.25; min-height:2.5rem;   /* ~2 dòng */
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}
.price-block{ display:flex; flex-direction:column; gap:.1rem; min-height:2.6rem; }
.price-block .current-price{ font-weight:800; color:#ff4d6d; }
.rating-badge{
  font:700 .8rem/1 system-ui;
  color:#111; background:linear-gradient(135deg,#ffd54f,#fff59d);
  border:1px solid rgba(255,255,255,.18);
  box-shadow:0 0 .5rem rgba(0,0,0,.35);
}

/* ===== SEARCH PAGE STYLES ===== */
.search-header {
  background: linear-gradient(135deg, rgba(242,197,114,0.1), rgba(41,180,208,0.1));
  border: 1px solid var(--brd);
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 2rem;
}

.search-filters {
  background: linear-gradient(180deg, var(--glass-1), rgba(12,14,18,.48));
  border: 1px solid var(--brd);
  border-radius: 16px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.search-filters .form-label {
  color: var(--text-1);
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.search-filters .form-select {
  background: rgba(12,14,18,.6);
  border: 1px solid var(--brd);
  color: var(--text-1);
  border-radius: 8px;
}

.search-filters .form-select:focus {
  border-color: var(--acc-2);
  box-shadow: 0 0 0 0.2rem rgba(41,180,208,.25);
  background: rgba(12,14,18,.8);
}

.search-results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1.5rem;
}

.search-product-card {
  background: linear-gradient(180deg, var(--glass-1), rgba(12,14,18,.48));
  border: 1px solid var(--brd);
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.search-product-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 15px 35px rgba(0,0,0,.4);
  border-color: rgba(41,180,208,.3);
}

.search-product-card .product-img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.search-product-card:hover .product-img {
  transform: scale(1.05);
}

.discount-badge {
  font-size: 0.75rem;
  font-weight: 700;
  background: linear-gradient(135deg, #ff4d6d, #ff6b7a);
  border: 1px solid rgba(255,255,255,.2);
  box-shadow: 0 2px 8px rgba(255,77,109,.3);
}

.no-results {
  text-align: center;
  padding: 4rem 2rem;
  background: linear-gradient(180deg, var(--glass-1), rgba(12,14,18,.48));
  border: 1px solid var(--brd);
  border-radius: 16px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.no-results i {
  font-size: 4rem;
  color: var(--text-2);
  margin-bottom: 1rem;
}

.search-stats {
  background: linear-gradient(135deg, rgba(242,197,114,0.1), rgba(41,180,208,0.1));
  border: 1px solid var(--brd);
  border-radius: 12px;
  padding: 1rem 1.5rem;
  margin-bottom: 2rem;
}

.search-stats .badge {
  background: linear-gradient(135deg, var(--acc), var(--acc-2));
  color: #111;
  font-weight: 700;
  padding: 0.5rem 1rem;
  border-radius: 20px;
}

/* ===== PRODUCT DETAIL PAGE STYLES ===== */
.product-detail-image {
  background: linear-gradient(180deg, var(--glass-1), rgba(12,14,18,.48));
  border: 1px solid var(--brd);
  border-radius: 16px;
  padding: 1rem;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.product-detail-info {
  background: linear-gradient(180deg, var(--glass-1), rgba(12,14,18,.48));
  border: 1px solid var(--brd);
  border-radius: 16px;
  padding: 2rem;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.rating-stars i {
  font-size: 1.2rem;
  margin-right: 0.2rem;
}

.price-section {
  background: linear-gradient(135deg, rgba(242,197,114,0.1), rgba(41,180,208,0.1));
  border: 1px solid var(--brd);
  border-radius: 12px;
  padding: 1.5rem;
}

.product-description .card {
  background: rgba(12,14,18,.6);
  border: 1px solid var(--brd);
}

.add-to-cart-section {
  background: linear-gradient(135deg, rgba(242,197,114,0.05), rgba(41,180,208,0.05));
  border: 1px solid var(--brd);
  border-radius: 12px;
  padding: 1.5rem;
}

.product-features {
  background: linear-gradient(180deg, var(--glass-1), rgba(12,14,18,.48));
  border: 1px solid var(--brd);
  border-radius: 12px;
  padding: 1.5rem;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.product-features ul li {
  color: var(--text-2);
  font-size: 0.9rem;
}

.related-products {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid var(--brd);
}

.breadcrumb {
  background: linear-gradient(180deg, var(--glass-1), rgba(12,14,18,.48));
  border: 1px solid var(--brd);
  border-radius: 12px;
  padding: 0.75rem 1rem;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.breadcrumb-item + .breadcrumb-item::before {
  color: var(--text-2);
}

.breadcrumb-item a {
  color: var(--acc);
  text-decoration: none;
  transition: color 0.2s ease;
}

.breadcrumb-item a:hover {
  color: var(--acc-2);
}

/* Logo hover effect */
.navbar-brand:hover .logo-text {
  color: var(--acc) !important;
  transition: color 0.3s ease;
}

.navbar-brand:hover img {
  transform: scale(1.1);
  transition: transform 0.3s ease;
}

/* Menu con */
.dropdown-submenu .dropdown-menu {
  display: none;
  position: absolute;
  top: 0;
  left: 100%;
  margin-top: 0;
  margin-left: 0;
}

/* Hiện menu con khi hover */
.dropdown-submenu:hover > .dropdown-menu {
  display: block;
}
/* Giúp menu con trông khớp với bootstrap */
.dropdown-submenu {
  position: relative;
}
.dropdown-item.dropdown-toggle::after {
  float: right;
  margin-left: 5px;
  content: "›"; /* mũi tên sang phải */
}
.dropdown-submenu .dropdown-toggle::after {
  display: none !important;
}
html, body { height: 100%; }
body { min-height: 100vh; display: flex; flex-direction: column; }
main.flex-fill { flex: 1 0 auto; }
footer.site-footer { margin-top: auto; }

/* ADMIN: PRODUCTS TABLE CSS  */
.table.table-dark.table-bordered {
  border-collapse: collapse;
  width: 100%;
  border: 1px solid #444;
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(8px);
  border-radius: 8px;
  overflow: hidden;
}

/* Header: gradient, chữ trắng, căn giữa, không xuống dòng */
.table.table-dark.table-bordered thead th {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: #fff;
  border: 1px solid #444;
  text-align: center;
  white-space: nowrap;
  padding: 0.75rem;
  font-weight: 600;
}

/* Body cells: viền, padding hợp lý, giữ 1 dòng, canh giữa dọc */
.table.table-dark.table-bordered tbody td {
  border: 1px solid #444;
  padding: 0.6rem 0.75rem;
  color: var(--text-1);
  vertical-align: middle;
  white-space: nowrap;
}

/* Hover hàng: nhấn nhẹ với màu đồng bộ header */
.table.table-dark.table-bordered tbody tr:hover {
  background-color: rgba(102, 126, 234, 0.1);
}

/* Cột thao tác gọn + không wrap */
.table td:last-child,
.table th:last-child {
  white-space: nowrap;
  text-align: center;
}

/* Nút trong ô thao tác: khoảng cách nhỏ gọn */
.table td .btn {
  margin: 0 2px;
}

/* Cho phép cuộn ngang khi quá rộng */
.table-responsive {
  overflow-x: auto;
}


/* Thông báo xóa */
.alert-popup {
  position: fixed;
  top: 20px;
  right: -400px; /* ẩn ban đầu */
  z-index: 9999;
  background-color: #28a745;
  color: #fff;
  padding: 12px 24px;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: right 0.4s ease;
}

.alert-popup.show {
  right: 20px;
}


.update-quantity {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 8px;
  padding: 5px 10px;
  width: fit-content;
  margin: auto;
}

.quantity-form {
  margin: 0;
}

.btn-qty {
  width: 32px;
  height: 32px;
  border: 1px solid #666;
  border-radius: 6px;
  background: #222;
  color: #fff;
  font-size: 1.2rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-qty:hover {
  background: #444;
  border-color: #888;
  transform: scale(1.05);
}

.quantity-display {
  display: inline-block;
  min-width: 40px;
  text-align: center;
  font-size: 1rem;
  font-weight: bold;
  color: #fff;
  user-select: none;
}

/* ==== CUSTOM CART ACTION ROW ==== */
.quantity-row {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
}

/* Cột 1: Số lượng */
.quantity-control {
  flex: 0 0 25%;          /* chiếm ~25% hàng */
  min-width: 180px;
  display: flex;
  flex-direction: column;
}

.quantity-box {
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 8px;
  padding: 4px 6px;
  height: 42px;                 /* giữ chiều cao cố định */
  min-width: 140px;             /* đủ rộng cho 3 phần tử */
  gap: 6px;                     /* khoảng cách đều giữa nút và input */
}

.quantity-input {
  width: 45px;                  /* vừa khít giữa 2 nút */
  height: 36px;
  text-align: center;
  border: none;
  outline: none;
  background: transparent;
  color: var(--text-1);
  font-size: 1rem;
  font-weight: 700;
  line-height: 36px;            /* giúp text thật sự căn giữa */
  appearance: textfield;        /* ẩn nút mặc định của input number */
}
.quantity-input::-webkit-inner-spin-button,
.quantity-input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Giữ style nút nhất quán với ROG theme */
.btn-qty {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255,255,255,.15);
  border-radius: 6px;
  background: rgba(12,14,18,.8);
  color: var(--text-1);
  font-size: 1.2rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
}
.btn-qty:hover {
  background: linear-gradient(135deg, var(--acc), var(--acc-2));
  color: #111;
  transform: scale(1.05);
}

/* Cột 2 và 3: nút hành động */
.action-form {
  flex: 1; /* chia đều phần còn lại */
}
.action-form .btn-rog {
  height: 45px;
  font-size: 0.95rem;
  font-weight: 700;
}

/* Responsive: khi màn nhỏ, xuống hàng đẹp */
@media (max-width: 768px) {
  .quantity-row {
    flex-direction: column;
    align-items: stretch;
  }
  .quantity-control, .action-form {
    width: 100%;
  }
}

